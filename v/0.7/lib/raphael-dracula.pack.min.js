/*
 * Raphael 1.3.1 - JavaScript Vector Library
 *
 * Copyright (c) 2008 - 2009 Dmitry Baranovskiy (http://raphaeljs.com)
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */Raphael=function(){function U(e,t,n){function r(){var i=Array[g].slice.call(arguments,0),s=i[v]("►"),o=r.cache=r.cache||{},u=r.count=r.count||[];return o[d](s)?n?n(o[s]):o[s]:(u[m]>=1e3&&delete o[u.shift()],u[k](s),o[s]=e[a](t,i),n?n(o[s]):o[s])}return r}function Ot(){return this.x+c+this.y}function qt(e){return function(t,n,r,i){var o={back:e};return s.is(r,"function")?i=r:o.rot=r,t&&t.constructor==gt&&(t=t.attrs.path),t&&(o.along=t),this.animate(o,n,i)}}var e=/[, ]+/,t=/^(circle|rect|path|ellipse|text|image)$/,n=document,r=window,i={was:"Raphael"in r,is:r.Raphael},s=function(){if(s.is(arguments[0],"array")){var e=arguments[0],n=Tt[a](s,e.splice(0,3+s.is(e[0],S))),r=n.set();for(var i=0,o=e[m];i<o;i++){var u=e[i]||{};t.test(u.type)&&r[k](n[u.type]().attr(u))}return r}return Tt[a](s,arguments)},o=function(){},u="appendChild",a="apply",f="concat",l="",c=" ",h="split",p="click dblclick mousedown mousemove mouseout mouseover mouseup"[h](c),d="hasOwnProperty",v="join",m="length",g="prototype",y=String[g].toLowerCase,b=Math,w=b.max,E=b.min,S="number",x="toString",T=Object[g][x],N={},C=b.pow,k="push",L=/^(?=[\da-f]$)/,A=/^url\(['"]?([^\)]+)['"]?\)$/i,O=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgb\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|rgb\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hs[bl]\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hs[bl]\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,M=b.round,_="setAttribute",D=parseFloat,P=parseInt,H=String[g].toUpperCase,B={"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},j={along:"along","clip-rect":"csv",cx:S,cy:S,fill:"colour","fill-opacity":S,"font-size":S,height:S,opacity:S,path:"path",r:S,rotation:"csv",rx:S,ry:S,scale:"csv",stroke:"colour","stroke-opacity":S,"stroke-width":S,translation:"csv",width:S,x:S,y:S},F="replace";s.version="1.3.1",s.type=r.SVGAngle||n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(s.type=="VML"){var I=document.createElement("div");I.innerHTML="<!--[if vml]><br><br><![endif]-->";if(I.childNodes[m]!=2)return null}s.svg=!(s.vml=s.type=="VML"),o[g]=s[g],s._id=0,s._oid=0,s.fn={},s.is=function(e,t){return t=y.call(t),(t=="object"||t=="undefined")&&typeof e==t||e==null&&t=="null"||y.call(T.call(e).slice(8,-1))==t},s.setWindow=function(e){r=e,n=r.document};var q=function(e){if(s.vml){var t=/^\s+|\s+$/g;q=U(function(e){var n;e=(e+l)[F](t,l);try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),n=r.body}catch(i){n=createPopup().document.body}var s=n.createTextRange();try{n.style.color=e;var o=s.queryCommandValue("ForeColor");return o=(o&255)<<16|o&65280|(o&16711680)>>>16,"#"+("000000"+o[x](16)).slice(-6)}catch(i){return"none"}})}else{var r=n.createElement("i");r.title="Raphaël Colour Picker",r.style.display="none",n.body[u](r),q=U(function(e){return r.style.color=e,n.defaultView.getComputedStyle(r,l).getPropertyValue("color")})}return q(e)};s.hsb2rgb=U(function(e,t,n){s.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(n=e.b,t=e.s,e=e.h);var r,i,o;if(n==0)return{r:0,g:0,b:0,hex:"#000"};if(e>1||t>1||n>1)e/=255,t/=255,n/=255;var u=~~(e*6),a=e*6-u,f=n*(1-t),l=n*(1-t*a),c=n*(1-t*(1-a));r=[n,l,f,f,c,n,n][u],i=[c,n,n,l,f,f,c][u],o=[f,f,c,n,n,l,f][u],r*=255,i*=255,o*=255;var h={r:r,g:i,b:o},p=(~~r)[x](16),d=(~~i)[x](16),v=(~~o)[x](16);return p=p[F](L,"0"),d=d[F](L,"0"),v=v[F](L,"0"),h.hex="#"+p+d+v,h},s),s.rgb2hsb=U(function(e,t,n){s.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,t=e.g,e=e.r);if(s.is(e,"string")){var r=s.getRGB(e);e=r.r,t=r.g,n=r.b}if(e>1||t>1||n>1)e/=255,t/=255,n/=255;var i=w(e,t,n),o=E(e,t,n),u,a,f=i;if(o==i)return{h:0,s:0,b:i};var l=i-o;return a=l/i,e==i?u=(t-n)/l:t==i?u=2+(n-e)/l:u=4+(e-t)/l,u/=6,u<0&&u++,u>1&&u--,{h:u,s:a,b:f}},s);var R=/,?([achlmqrstvxz]),?/gi;s._path2string=function(){return this.join(",")[F](R,"$1")},s.getRGB=U(function(e){if(!e||!!((e+=l).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1};if(e=="none")return{r:-1,g:-1,b:-1,hex:"none"};!{hs:1,rg:1}[d](e.substring(0,2))&&e.charAt()!="#"&&(e=q(e));var t,n,r,i,o,u=e.match(O);if(u){u[2]&&(i=P(u[2].substring(5),16),r=P(u[2].substring(3,5),16),n=P(u[2].substring(1,3),16)),u[3]&&(i=P((o=u[3].charAt(3))+o,16),r=P((o=u[3].charAt(2))+o,16),n=P((o=u[3].charAt(1))+o,16)),u[4]&&(u=u[4][h](/\s*,\s*/),n=D(u[0]),r=D(u[1]),i=D(u[2])),u[5]&&(u=u[5][h](/\s*,\s*/),n=D(u[0])*2.55,r=D(u[1])*2.55,i=D(u[2])*2.55);if(u[6])return u=u[6][h](/\s*,\s*/),n=D(u[0]),r=D(u[1]),i=D(u[2]),s.hsb2rgb(n,r,i);if(u[7])return u=u[7][h](/\s*,\s*/),n=D(u[0])*2.55,r=D(u[1])*2.55,i=D(u[2])*2.55,s.hsb2rgb(n,r,i);u={r:n,g:r,b:i};var a=(~~n)[x](16),f=(~~r)[x](16),c=(~~i)[x](16);return a=a[F](L,"0"),f=f[F](L,"0"),c=c[F](L,"0"),u.hex="#"+a+f+c,u}return{r:-1,g:-1,b:-1,hex:"none",error:1}},s),s.getColor=function(e){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||.75},n=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),n.hex},s.getColor.reset=function(){delete this.start},s.parsePathString=U(function(e){if(!e)return null;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];return s.is(e,"array")&&s.is(e[0],"array")&&(n=W(e)),n[m]||(e+l)[F](/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,function(e,r,i){var s=[],o=y.call(r);i[F](/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,function(e,t){t&&s[k](+t)});while(s[m]>=t[o]){n[k]([r][f](s.splice(0,t[o])));if(!t[o])break}}),n[x]=s._path2string,n}),s.findDotsAtSegment=function(e,t,n,r,i,s,o,u,a){var f=1-a,l=C(f,3)*e+C(f,2)*3*a*n+f*3*a*a*i+C(a,3)*o,c=C(f,3)*t+C(f,2)*3*a*r+f*3*a*a*s+C(a,3)*u,h=e+2*a*(n-e)+a*a*(i-2*n+e),p=t+2*a*(r-t)+a*a*(s-2*r+t),d=n+2*a*(i-n)+a*a*(o-2*i+n),v=r+2*a*(s-r)+a*a*(u-2*s+r),m=(1-a)*e+a*n,g=(1-a)*t+a*r,y=(1-a)*i+a*o,w=(1-a)*s+a*u,E=90-b.atan((h-d)/(p-v))*180/b.PI;return(h>d||p<v)&&(E+=180),{x:l,y:c,m:{x:h,y:p},n:{x:d,y:v},start:{x:m,y:g},end:{x:y,y:w},alpha:E}};var z=U(function(e){if(!e)return{x:0,y:0,width:0,height:0};e=Y(e);var t=0,n=0,r=[],i=[],s;for(var o=0,u=e[m];o<u;o++){s=e[o];if(s[0]=="M")t=s[1],n=s[2],r[k](t),i[k](n);else{var l=G(t,n,s[1],s[2],s[3],s[4],s[5],s[6]);r=r[f](l.min.x,l.max.x),i=i[f](l.min.y,l.max.y),t=s[5],n=s[6]}}var c=E[a](0,r),h=E[a](0,i);return{x:c,y:h,width:w[a](0,r)-c,height:w[a](0,i)-h}}),W=function(e){var t=[];if(!s.is(e,"array")||!s.is(e&&e[0],"array"))e=s.parsePathString(e);for(var n=0,r=e[m];n<r;n++){t[n]=[];for(var i=0,o=e[n][m];i<o;i++)t[n][i]=e[n][i]}return t[x]=s._path2string,t},X=U(function(e){if(!s.is(e,"array")||!s.is(e&&e[0],"array"))e=s.parsePathString(e);var t=[],n=0,r=0,i=0,o=0,u=0;e[0][0]=="M"&&(n=e[0][1],r=e[0][2],i=n,o=r,u++,t[k](["M",n,r]));for(var a=u,f=e[m];a<f;a++){var l=t[a]=[],c=e[a];if(c[0]!=y.call(c[0])){l[0]=y.call(c[0]);switch(l[0]){case"a":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]-n).toFixed(3),l[7]=+(c[7]-r).toFixed(3);break;case"v":l[1]=+(c[1]-r).toFixed(3);break;case"m":i=c[1],o=c[2];default:for(var h=1,p=c[m];h<p;h++)l[h]=+(c[h]-(h%2?n:r)).toFixed(3)}}else{l=t[a]=[],c[0]=="m"&&(i=c[1]+n,o=c[2]+r);for(var d=0,v=c[m];d<v;d++)t[a][d]=c[d]}var g=t[a][m];switch(t[a][0]){case"z":n=i,r=o;break;case"h":n+=+t[a][g-1];break;case"v":r+=+t[a][g-1];break;default:n+=+t[a][g-2],r+=+t[a][g-1]}}return t[x]=s._path2string,t},0,W),V=U(function(e){if(!s.is(e,"array")||!s.is(e&&e[0],"array"))e=s.parsePathString(e);var t=[],n=0,r=0,i=0,o=0,u=0;e[0][0]=="M"&&(n=+e[0][1],r=+e[0][2],i=n,o=r,u++,t[0]=["M",n,r]);for(var a=u,f=e[m];a<f;a++){var l=t[a]=[],c=e[a];if(c[0]!=H.call(c[0])){l[0]=H.call(c[0]);switch(l[0]){case"A":l[1]=c[1],l[2]=c[2],l[3]=c[3],l[4]=c[4],l[5]=c[5],l[6]=+(c[6]+n),l[7]=+(c[7]+r);break;case"V":l[1]=+c[1]+r;break;case"H":l[1]=+c[1]+n;break;case"M":i=+c[1]+n,o=+c[2]+r;default:for(var h=1,p=c[m];h<p;h++)l[h]=+c[h]+(h%2?n:r)}}else for(var d=0,v=c[m];d<v;d++)t[a][d]=c[d];switch(l[0]){case"Z":n=i,r=o;break;case"H":n=l[1];break;case"V":r=l[1];break;default:n=t[a][t[a][m]-2],r=t[a][t[a][m]-1]}}return t[x]=s._path2string,t},null,W),$=function(e,t,n,r){return[e,t,n,r,n,r]},J=function(e,t,n,r,i,s){var o=1/3,u=2/3;return[o*e+u*n,o*t+u*r,o*i+u*n,o*s+u*r,i,s]},K=function(e,t,n,r,i,s,o,u,a,l){var c=b.PI,p=c*120/180,d=c/180*(+i||0),g=[],y,E=U(function(e,t,n){var r=e*b.cos(n)-t*b.sin(n),i=e*b.sin(n)+t*b.cos(n);return{x:r,y:i}});if(!l){y=E(e,t,-d),e=y.x,t=y.y,y=E(u,a,-d),u=y.x,a=y.y;var S=b.cos(c/180*i),x=b.sin(c/180*i),T=(e-u)/2,N=(t-a)/2;n=w(n,b.abs(T)),r=w(r,b.abs(N));var C=T*T/(n*n)+N*N/(r*r);C>1&&(n=b.sqrt(C)*n,r=b.sqrt(C)*r);var k=n*n,L=r*r,A=(s==o?-1:1)*b.sqrt(b.abs((k*L-k*N*N-L*T*T)/(k*N*N+L*T*T))),O=A*n*N/r+(e+u)/2,M=A*-r*T/n+(t+a)/2,_=b.asin(((t-M)/r).toFixed(7)),D=b.asin(((a-M)/r).toFixed(7));_=e<O?c-_:_,D=u<O?c-D:D,_<0&&(_=c*2+_),D<0&&(D=c*2+D),o&&_>D&&(_-=c*2),!o&&D>_&&(D-=c*2)}else _=l[0],D=l[1],O=l[2],M=l[3];var P=D-_;if(b.abs(P)>p){var H=D,B=u,j=a;D=_+p*(o&&D>_?1:-1),u=O+n*b.cos(D),a=M+r*b.sin(D),g=K(u,a,n,r,i,0,o,B,j,[D,H,O,M])}P=D-_;var F=b.cos(_),I=b.sin(_),q=b.cos(D),R=b.sin(D),z=b.tan(P/4),W=4/3*n*z,X=4/3*r*z,V=[e,t],$=[e+W*I,t-X*F],J=[u+W*R,a-X*q],Q=[u,a];$[0]=2*V[0]-$[0],$[1]=2*V[1]-$[1];if(l)return[$,J,Q][f](g);g=[$,J,Q][f](g)[v]()[h](",");var G=[];for(var Y=0,Z=g[m];Y<Z;Y++)G[Y]=Y%2?E(g[Y-1],g[Y],d).y:E(g[Y],g[Y+1],d).x;return G},Q=function(e,t,n,r,i,s,o,u,a){var f=1-a;return{x:C(f,3)*e+C(f,2)*3*a*n+f*3*a*a*i+C(a,3)*o,y:C(f,3)*t+C(f,2)*3*a*r+f*3*a*a*s+C(a,3)*u}},G=U(function(e,t,n,r,i,s,o,u){var f=i-2*n+e-(o-2*i+n),l=2*(n-e)-2*(i-n),c=e-n,h=(-l+b.sqrt(l*l-4*f*c))/2/f,p=(-l-b.sqrt(l*l-4*f*c))/2/f,d=[t,u],v=[e,o],m;return b.abs(h)>1e12&&(h=.5),b.abs(p)>1e12&&(p=.5),h>0&&h<1&&(m=Q(e,t,n,r,i,s,o,u,h),v[k](m.x),d[k](m.y)),p>0&&p<1&&(m=Q(e,t,n,r,i,s,o,u,p),v[k](m.x),d[k](m.y)),f=s-2*r+t-(u-2*s+r),l=2*(r-t)-2*(s-r),c=t-r,h=(-l+b.sqrt(l*l-4*f*c))/2/f,p=(-l-b.sqrt(l*l-4*f*c))/2/f,b.abs(h)>1e12&&(h=.5),b.abs(p)>1e12&&(p=.5),h>0&&h<1&&(m=Q(e,t,n,r,i,s,o,u,h),v[k](m.x),d[k](m.y)),p>0&&p<1&&(m=Q(e,t,n,r,i,s,o,u,p),v[k](m.x),d[k](m.y)),{min:{x:E[a](0,v),y:E[a](0,d)},max:{x:w[a](0,v),y:w[a](0,d)}}}),Y=U(function(e,t){var n=V(e),r=t&&V(t),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=function(e,t){var n,r;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];!(e[0]in{T:1,Q:1})&&(t.qx=t.qy=null);switch(e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"][f](K[a](0,[t.x,t.y][f](e.slice(1))));break;case"S":n=t.x+(t.x-(t.bx||t.x)),r=t.y+(t.y-(t.by||t.y)),e=["C",n,r][f](e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"][f](J(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"][f](J(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"][f]($(t.x,t.y,e[1],e[2]));break;case"H":e=["C"][f]($(t.x,t.y,e[1],t.y));break;case"V":e=["C"][f]($(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"][f]($(t.x,t.y,t.X,t.Y))}return e},u=function(e,t){if(e[t][m]>7){e[t].shift();var i=e[t];while(i[m])e.splice(t++,0,["C"][f](i.splice(0,6)));e.splice(t,1),h=w(n[m],r&&r[m]||0)}},l=function(e,t,i,s,o){e&&t&&e[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=e[o][1],i.y=e[o][2],h=w(n[m],r&&r[m]||0))};for(var c=0,h=w(n[m],r&&r[m]||0);c<h;c++){n[c]=o(n[c],i),u(n,c),r&&(r[c]=o(r[c],s)),r&&u(r,c),l(n,r,i,s,c),l(r,n,s,i,c);var p=n[c],d=r&&r[c],v=p[m],g=r&&d[m];i.x=p[v-2],i.y=p[v-1],i.bx=D(p[v-4])||i.x,i.by=D(p[v-3])||i.y,s.bx=r&&(D(d[g-4])||s.x),s.by=r&&(D(d[g-3])||s.y),s.x=r&&d[g-2],s.y=r&&d[g-1]}return r?[n,r]:n},null,W),Z=U(function(e){var t=[];for(var n=0,r=e[m];n<r;n++){var i={},o=e[n].match(/^([^:]*):?([\d\.]*)/);i.color=s.getRGB(o[1]);if(i.color.error)return null;i.color=i.color.hex,o[2]&&(i.offset=o[2]+"%"),t[k](i)}for(var n=1,r=t[m]-1;n<r;n++)if(!t[n].offset){var u=D(t[n-1].offset||0),a=0;for(var f=n+1;f<r;f++)if(t[f].offset){a=t[f].offset;break}a||(a=100,f=r),a=D(a);var l=(a-u)/(f-n+1);for(;n<f;n++)u+=l,t[n].offset=u+"%"}return t}),et=function(){var e,t,r,i,o;if(s.is(arguments[0],"string")||s.is(arguments[0],"object")){s.is(arguments[0],"string")?e=n.getElementById(arguments[0]):e=arguments[0];if(e.tagName)return arguments[1]==null?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:arguments[1],height:arguments[2]}}else if(s.is(arguments[0],S)&&arguments[m]>3)return{container:1,x:arguments[0],y:arguments[1],width:arguments[2],height:arguments[3]}},tt=function(e,t){var n=this;for(var r in t)if(t[d](r)&&!(r in e))switch(typeof t[r]){case"function":(function(t){e[r]=e===n?t:function(){return t[a](n,arguments)}})(t[r]);break;case"object":e[r]=e[r]||{},tt.call(this,e[r],t[r]);break;default:e[r]=t[r]}},nt=function(e,t){e==t.top&&(t.top=e.prev),e==t.bottom&&(t.bottom=e.next),e.next&&(e.next.prev=e.prev),e.prev&&(e.prev.next=e.next)},rt=function(e,t){if(t.top===e)return;nt(e,t),e.next=null,e.prev=t.top,t.top.next=e,t.top=e},it=function(e,t){if(t.bottom===e)return;nt(e,t),e.next=t.bottom,e.prev=null,t.bottom.prev=e,t.bottom=e},st=function(e,t,n){nt(e,n),t==n.top&&(n.top=e),t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e},ot=function(e,t,n){nt(e,n),t==n.bottom&&(n.bottom=e),t.prev&&(t.prev.next=e),e.prev=t.prev,t.prev=e,e.next=t},ut=function(e){return function(){throw new Error("Raphaël: you are calling to method “"+e+"” of removed object")}},at=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;if(s.svg){o[g].svgns="http://www.w3.org/2000/svg",o[g].xlink="http://www.w3.org/1999/xlink";var M=function(e){return+e+(~~e===e)*.5},ft=function(e){for(var t=0,n=e[m];t<n;t++)if(y.call(e[t][0])!="a")for(var r=1,i=e[t][m];r<i;r++)e[t][r]=M(e[t][r]);else e[t][6]=M(e[t][6]),e[t][7]=M(e[t][7]);return e},lt=function(e,t){if(!t)return n.createElementNS(o[g].svgns,e);for(var r in t)t[d](r)&&e[_](r,t[r])};s[x]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var ct=function(e,t){var n=lt("path");t.canvas&&t.canvas[u](n);var r=new gt(n,t);return r.type="path",dt(r,{fill:"none",stroke:"#000",path:e}),r},ht=function(e,t,n){var r="linear",i=.5,o=.5,a=e.style;t=(t+l)[F](at,function(e,t,n){r="radial";if(t&&n){i=D(t),o=D(n);var s=(o>.5)*2-1;C(i-.5,2)+C(o-.5,2)>.25&&(o=b.sqrt(.25-C(i-.5,2))*s+.5)&&o!=.5&&(o=o.toFixed(5)-1e-5*s)}return l}),t=t[h](/\s*\-\s*/);if(r=="linear"){var f=t.shift();f=-D(f);if(isNaN(f))return null;var c=[0,0,b.cos(f*b.PI/180),b.sin(f*b.PI/180)],p=1/(w(b.abs(c[2]),b.abs(c[3]))||1);c[2]*=p,c[3]*=p,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var d=Z(t);if(!d)return null;var v=lt(r+"Gradient");v.id="r"+(s._id++)[x](36),lt(v,r=="radial"?{fx:i,fy:o}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}),n.defs[u](v);for(var g=0,y=d[m];g<y;g++){var E=lt("stop");lt(E,{offset:d[g].offset?d[g].offset:g?"100%":"0%","stop-color":d[g].color||"#fff"}),v[u](E)}return lt(e,{fill:"url(#"+v.id+")",opacity:1,"fill-opacity":1}),a.fill=l,a.opacity=1,a.fillOpacity=1,1},pt=function(e){var t=e.getBBox();lt(e.pattern,{patternTransform:s.format("translate({0},{1})",t.x,t.y)})},dt=function(t,r){var i={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},o=t.node,a=t.attrs,f=t.rotate(),p=function(e,t){t=i[y.call(t)];if(t){var n=e.attrs["stroke-width"]||"1",s={round:n,square:n,butt:0}[e.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,u=[],a=t[m];while(a--)u[a]=t[a]*n+(a%2?1:-1)*s;lt(o,{"stroke-dasharray":u[v](",")})}};r[d]("rotation")&&(f=r.rotation);var g=(f+l)[h](e);g.length-1?(g[1]=+g[1],g[2]=+g[2]):g=null,D(f)&&t.rotate(0,!0);for(var b in r)if(r[d](b)){if(!B[d](b))continue;var w=r[b];a[b]=w;switch(b){case"rotation":t.rotate(w,!0);break;case"href":case"title":case"target":var E=o.parentNode;if(y.call(E.tagName)!="a"){var S=lt("a");E.insertBefore(S,o),S[u](o),E=S}E.setAttributeNS(t.paper.xlink,b,w);break;case"cursor":o.style.cursor=w;break;case"clip-rect":var T=(w+l)[h](e);if(T[m]==4){t.clip&&t.clip.parentNode.parentNode.removeChild(t.clip.parentNode);var N=lt("clipPath"),C=lt("rect");N.id="r"+(s._id++)[x](36),lt(C,{x:T[0],y:T[1],width:T[2],height:T[3]}),N[u](C),t.paper.defs[u](N),lt(o,{"clip-path":"url(#"+N.id+")"}),t.clip=C}if(!w){var k=n.getElementById(o.getAttribute("clip-path")[F](/(^url\(#|\)$)/g,l));k&&k.parentNode.removeChild(k),lt(o,{"clip-path":l}),delete t.clip}break;case"path":w&&t.type=="path"&&(a.path=ft(V(w)),lt(o,{d:a.path}));break;case"width":o[_](b,w);if(!a.fx)break;b="x",w=a.x;case"x":a.fx&&(w=-a.x-(a.width||0));case"rx":if(b=="rx"&&t.type=="rect")break;case"cx":g&&(b=="x"||b=="cx")&&(g[1]+=w-a[b]),o[_](b,M(w)),t.pattern&&pt(t);break;case"height":o[_](b,w);if(!a.fy)break;b="y",w=a.y;case"y":a.fy&&(w=-a.y-(a.height||0));case"ry":if(b=="ry"&&t.type=="rect")break;case"cy":g&&(b=="y"||b=="cy")&&(g[2]+=w-a[b]),o[_](b,M(w)),t.pattern&&pt(t);break;case"r":t.type=="rect"?lt(o,{rx:w,ry:w}):o[_](b,w);break;case"src":t.type=="image"&&o.setAttributeNS(t.paper.xlink,"href",w);break;case"stroke-width":o.style.strokeWidth=w,o[_](b,w),a["stroke-dasharray"]&&p(t,a["stroke-dasharray"]);break;case"stroke-dasharray":p(t,w);break;case"translation":var L=(w+l)[h](e);L[0]=+L[0]||0,L[1]=+L[1]||0,g&&(g[1]+=L[0],g[2]+=L[1]),It.call(t,L[0],L[1]);break;case"scale":var L=(w+l)[h](e);t.scale(+L[0]||1,+L[1]||+L[0]||1,+L[2]||null,+L[3]||null);break;case"fill":var O=(w+l).match(A);if(O){var N=lt("pattern"),j=lt("image");N.id="r"+(s._id++)[x](36),lt(N,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),lt(j,{x:0,y:0}),j.setAttributeNS(t.paper.xlink,"href",O[1]),N[u](j);var I=n.createElement("img");I.style.cssText="position:absolute;left:-9999em;top-9999em",I.onload=function(){lt(N,{width:this.offsetWidth,height:this.offsetHeight}),lt(j,{width:this.offsetWidth,height:this.offsetHeight}),n.body.removeChild(this),t.paper.safari()},n.body[u](I),I.src=O[1],t.paper.defs[u](N),o.style.fill="url(#"+N.id+")",lt(o,{fill:"url(#"+N.id+")"}),t.pattern=N,t.pattern&&pt(t);break}if(!s.getRGB(w).error)delete r.gradient,delete a.gradient,!s.is(a.opacity,"undefined")&&s.is(r.opacity,"undefined")&&lt(o,{opacity:a.opacity}),!s.is(a["fill-opacity"],"undefined")&&s.is(r["fill-opacity"],"undefined")&&lt(o,{"fill-opacity":a["fill-opacity"]});else if(({circle:1,ellipse:1}[d](t.type)||(w+l).charAt()!="r")&&ht(o,w,t.paper)){a.gradient=w,a.fill="none";break};case"stroke":o[_](b,s.getRGB(w).hex);break;case"gradient":((({circle:1,ellipse:1}))[d](t.type)||(w+l).charAt()!="r")&&ht(o,w,t.paper);break;case"opacity":case"fill-opacity":if(a.gradient){var q=n.getElementById(o.getAttribute("fill")[F](/^url\(#|\)$/g,l));if(q){var R=q.getElementsByTagName("stop");R[R[m]-1][_]("stop-opacity",w)}break};default:b=="font-size"&&(w=P(w,10)+"px");var U=b[F](/(\-.)/g,function(e){return H.call(e.substring(1))});o.style[U]=w,o[_](b,w)}}mt(t,r),g?t.rotate(g.join(c)):D(f)&&t.rotate(f,!0)},vt=1.2,mt=function(e,t){if(e.type!="text"||!(t[d]("text")||t[d]("font")||t[d]("font-size")||t[d]("x")||t[d]("y")))return;var r=e.attrs,i=e.node,s=i.firstChild?P(n.defaultView.getComputedStyle(i.firstChild,l).getPropertyValue("font-size"),10):10;if(t[d]("text")){r.text=t.text;while(i.firstChild)i.removeChild(i.firstChild);var o=(t.text+l)[h]("\n");for(var a=0,f=o[m];a<f;a++)if(o[a]){var c=lt("tspan");a&&lt(c,{dy:s*vt,x:r.x}),c[u](n.createTextNode(o[a])),i[u](c)}}else{var o=i.getElementsByTagName("tspan");for(var a=0,f=o[m];a<f;a++)a&&lt(o[a],{dy:s*vt,x:r.x})}lt(i,{y:r.y});var p=e.getBBox(),v=r.y-(p.y+p.height/2);v&&isFinite(v)&&lt(i,{y:r.y+v})},gt=function(e,t){var n=0,r=0;this[0]=e,this.id=s._oid++,this.node=e,e.raphael=this,this.paper=t,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!t.bottom&&(t.bottom=this),this.prev=t.top,t.top&&(t.top.next=this),t.top=this,this.next=null};gt[g].rotate=function(t,n,r){if(this.removed)return this;if(t==null)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][v](c):this._.rt.deg;var i=this.getBBox();return t=(t+l)[h](e),t[m]-1&&(n=D(t[1]),r=D(t[2])),t=D(t[0]),n!=null?this._.rt.deg=t:this._.rt.deg+=t,r==null&&(n=null),this._.rt.cx=n,this._.rt.cy=r,n=n==null?i.x+i.width/2:n,r=r==null?i.y+i.height/2:r,this._.rt.deg?(this.transformations[0]=s.format("rotate({0} {1} {2})",this._.rt.deg,n,r),this.clip&&lt(this.clip,{transform:s.format("rotate({0} {1} {2})",-this._.rt.deg,n,r)})):(this.transformations[0]=l,this.clip&&lt(this.clip,{transform:l})),lt(this.node,{transform:this.transformations[v](c)}),this},gt[g].hide=function(){return!this.removed&&(this.node.style.display="none"),this},gt[g].show=function(){return!this.removed&&(this.node.style.display=""),this},gt[g].remove=function(){if(this.removed)return;nt(this,this.paper),this.node.parentNode.removeChild(this.node);for(var e in this)delete this[e];this.removed=!0},gt[g].getBBox=function(){if(this.removed)return this;if(this.type=="path")return z(this.attrs.path);if(this.node.style.display=="none"){this.show();var e=!0}var t={};try{t=this.node.getBBox()}catch(n){}finally{t=t||{}}if(this.type=="text"){t={x:t.x,y:Infinity,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var s=this.node.getExtentOfChar(r);s.y<t.y&&(t.y=s.y),s.y+s.height-t.y>t.height&&(t.height=s.y+s.height-t.y),s.x+s.width-t.x>t.width&&(t.width=s.x+s.width-t.x)}}return e&&this.hide(),t},gt[g].attr=function(){if(this.removed)return this;if(arguments[m]==0){var e={};for(var t in this.attrs)this.attrs[d](t)&&(e[t]=this.attrs[t]);return this._.rt.deg&&(e.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(e.scale=this.scale()),e.gradient&&e.fill=="none"&&(e.fill=e.gradient)&&delete e.gradient,e}if(arguments[m]==1&&s.is(arguments[0],"string"))return arguments[0]=="translation"?It.call(this):arguments[0]=="rotation"?this.rotate():arguments[0]=="scale"?this.scale():arguments[0]=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[arguments[0]];if(arguments[m]==1&&s.is(arguments[0],"array")){var n={};for(var r in arguments[0])arguments[0][d](r)&&(n[arguments[0][r]]=this.attrs[arguments[0][r]]);return n}if(arguments[m]==2){var i={};i[arguments[0]]=arguments[1],dt(this,i)}else arguments[m]==1&&s.is(arguments[0],"object")&&dt(this,arguments[0]);return this},gt[g].toFront=function(){if(this.removed)return this;this.node.parentNode[u](this.node);var e=this.paper;return e.top!=this&&rt(this,e),this},gt[g].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),it(this,this.paper);var e=this.paper}return this},gt[g].insertAfter=function(e){if(this.removed)return this;var t=e.node;return t.nextSibling?t.parentNode.insertBefore(this.node,t.nextSibling):t.parentNode[u](this.node),st(this,e,this.paper),this},gt[g].insertBefore=function(e){if(this.removed)return this;var t=e.node;return t.parentNode.insertBefore(this.node,t),ot(this,e,this.paper),this};var yt=function(e,t,n,r){t=M(t),n=M(n);var i=lt("circle");e.canvas&&e.canvas[u](i);var s=new gt(i,e);return s.attrs={cx:t,cy:n,r:r,fill:"none",stroke:"#000"},s.type="circle",lt(i,s.attrs),s},bt=function(e,t,n,r,i,s){t=M(t),n=M(n);var o=lt("rect");e.canvas&&e.canvas[u](o);var a=new gt(o,e);return a.attrs={x:t,y:n,width:r,height:i,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",lt(o,a.attrs),a},wt=function(e,t,n,r,i){t=M(t),n=M(n);var s=lt("ellipse");e.canvas&&e.canvas[u](s);var o=new gt(s,e);return o.attrs={cx:t,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},o.type="ellipse",lt(s,o.attrs),o},Et=function(e,t,n,r,i,s){var o=lt("image");lt(o,{x:n,y:r,width:i,height:s,preserveAspectRatio:"none"}),o.setAttributeNS(e.xlink,"href",t),e.canvas&&e.canvas[u](o);var a=new gt(o,e);return a.attrs={x:n,y:r,width:i,height:s,src:t},a.type="image",a},St=function(e,t,n,r){var i=lt("text");lt(i,{x:t,y:n,"text-anchor":"middle"}),e.canvas&&e.canvas[u](i);var s=new gt(i,e);return s.attrs={x:t,y:n,"text-anchor":"middle",text:r,font:B.font,stroke:"none",fill:"#000"},s.type="text",dt(s,s.attrs),s},xt=function(e,t){return this.width=e||this.width,this.height=t||this.height,this.canvas[_]("width",this.width),this.canvas[_]("height",this.height),this},Tt=function(){var e=et[a](null,arguments),t=e&&e.container,r=e.x,i=e.y,f=e.width,l=e.height;if(!t)throw new Error("SVG container not found.");var c=lt("svg");return f=f||512,l=l||342,lt(c,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:f,height:l}),t==1?(c.style.cssText="position:absolute;left:"+r+"px;top:"+i+"px",n.body[u](c)):t.firstChild?t.insertBefore(c,t.firstChild):t[u](c),t=new o,t.width=f,t.height=l,t.canvas=c,tt.call(t,t,s.fn),t.clear(),t};o[g].clear=function(){var e=this.canvas;while(e.firstChild)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=lt("desc"))[u](n.createTextNode("Created with Raphaël")),e[u](this.desc),e[u](this.defs=lt("defs"))},o[g].remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=ut(e)}}if(s.vml){var Nt=function(e){var t=/[ahqstv]/ig,n=V;(e+l).match(t)&&(n=Y),t=/[clmz]/g;if(n==V&&!(e+l).match(t)){var r={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},i=/([clmz]),?([^clmz]*)/gi,s=/-?[^,\s-]+/g,o=(e+l)[F](i,function(e,t,n){var i=[];return n[F](s,function(e){i[k](M(e))}),r[t]+i});return o}var u=n(e),a,o=[],f;for(var h=0,p=u[m];h<p;h++){a=u[h],f=y.call(u[h][0]),f=="z"&&(f="x");for(var d=1,g=a[m];d<g;d++)f+=M(a[d])+(d!=g-1?",":l);o[k](f)}return o[v](c)};s[x]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var ct=function(e,t){var n=Ct("group");n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=t.coordsize,n.coordorigin=t.coordorigin;var r=Ct("shape"),i=r.style;i.width=t.width+"px",i.height=t.height+"px",r.coordsize=this.coordsize,r.coordorigin=this.coordorigin,n[u](r);var s=new gt(r,n,t);return s.isAbsolute=!0,s.type="path",s.path=[],s.Path=l,e&&dt(s,{fill:"none",stroke:"#000",path:e}),t.canvas[u](n),s},dt=function(t,r){t.attrs=t.attrs||{};var i=t.node,o=t.attrs,a=i.style,f,c=t;for(var p in r)r[d](p)&&(o[p]=r[p]);r.href&&(i.href=r.href),r.title&&(i.title=r.title),r.target&&(i.target=r.target),r.cursor&&(a.cursor=r.cursor),r.path&&t.type=="path"&&(o.path=r.path,i.path=Nt(o.path)),r.rotation!=null&&t.rotate(r.rotation,!0),r.translation&&(f=(r.translation+l)[h](e),It.call(t,f[0],f[1]),t._.rt.cx!=null&&(t._.rt.cx+=+f[0],t._.rt.cy+=+f[1],t.setBox(t.attrs,f[0],f[1]))),r.scale&&(f=(r.scale+l)[h](e),t.scale(+f[0]||1,+f[1]||+f[0]||1,+f[2]||null,+f[3]||null));if("clip-rect"in r){var v=(r["clip-rect"]+l)[h](e);if(v[m]==4){v[2]=+v[2]+ +v[0],v[3]=+v[3]+ +v[1];var g=i.clipRect||n.createElement("div"),y=g.style,b=i.parentNode;y.clip=s.format("rect({1}px {2}px {3}px {0}px)",v),i.clipRect||(y.position="absolute",y.top=0,y.left=0,y.width=t.paper.width+"px",y.height=t.paper.height+"px",b.parentNode.insertBefore(g,b),g[u](b),i.clipRect=g)}r["clip-rect"]||i.clipRect&&(i.clipRect.style.clip=l)}t.type=="image"&&r.src&&(i.src=r.src),t.type=="image"&&r.opacity&&(i.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+r.opacity*100+")",a.filter=(i.filterMatrix||l)+(i.filterOpacity||l)),r.font&&(a.font=r.font),r["font-family"]&&(a.fontFamily='"'+r["font-family"][h](",")[0][F](/^['"]+|['"]+$/g,l)+'"'),r["font-size"]&&(a.fontSize=r["font-size"]),r["font-weight"]&&(a.fontWeight=r["font-weight"]),r["font-style"]&&(a.fontStyle=r["font-style"]);if(r.opacity!=null||r["stroke-width"]!=null||r.fill!=null||r.stroke!=null||r["stroke-width"]!=null||r["stroke-opacity"]!=null||r["fill-opacity"]!=null||r["stroke-dasharray"]!=null||r["stroke-miterlimit"]!=null||r["stroke-linejoin"]!=null||r["stroke-linecap"]!=null){i=t.shape||i;var w=i.getElementsByTagName("fill")&&i.getElementsByTagName("fill")[0],E=!1;!w&&(E=w=Ct("fill"));if("fill-opacity"in r||"opacity"in r){var S=((+o["fill-opacity"]+1||2)-1)*((+o.opacity+1||2)-1);S<0&&(S=0),S>1&&(S=1),w.opacity=S}r.fill&&(w.on=!0);if(w.on==null||r.fill=="none")w.on=!1;if(w.on&&r.fill){var x=r.fill.match(A);x?(w.src=x[1],w.type="tile"):(w.color=s.getRGB(r.fill).hex,w.src=l,w.type="solid",s.getRGB(r.fill).error&&(c.type in{circle:1,ellipse:1}||(r.fill+l).charAt()!="r")&&ht(c,r.fill)&&(o.fill="none",o.gradient=r.fill))}E&&i[u](w);var T=i.getElementsByTagName("stroke")&&i.getElementsByTagName("stroke")[0],N=!1;!T&&(N=T=Ct("stroke"));if(r.stroke&&r.stroke!="none"||r["stroke-width"]||r["stroke-opacity"]!=null||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])T.on=!0;(r.stroke=="none"||T.on==null||r.stroke==0||r["stroke-width"]==0)&&(T.on=!1),T.on&&r.stroke&&(T.color=s.getRGB(r.stroke).hex);var S=((+o["stroke-opacity"]+1||2)-1)*((+o.opacity+1||2)-1),C=(D(r["stroke-width"])||1)*.75;S<0&&(S=0),S>1&&(S=1),r["stroke-width"]==null&&(C=o["stroke-width"]),r["stroke-width"]&&(T.weight=C),C&&C<1&&(S*=C)&&(T.weight=1),T.opacity=S,r["stroke-linejoin"]&&(T.joinstyle=r["stroke-linejoin"]||"miter"),T.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(T.endcap=r["stroke-linecap"]=="butt"?"flat":r["stroke-linecap"]=="square"?"square":"round");if(r["stroke-dasharray"]){var k={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};T.dashstyle=k[d](r["stroke-dasharray"])?k[r["stroke-dasharray"]]:l}N&&i[u](T)}if(c.type=="text"){var a=c.paper.span.style;o.font&&(a.font=o.font),o["font-family"]&&(a.fontFamily=o["font-family"]),o["font-size"]&&(a.fontSize=o["font-size"]),o["font-weight"]&&(a.fontWeight=o["font-weight"]),o["font-style"]&&(a.fontStyle=o["font-style"]),c.node.string&&(c.paper.span.innerHTML=(c.node.string+l)[F](/</g,"&#60;")[F](/&/g,"&#38;")[F](/\n/g,"<br>")),c.W=o.w=c.paper.span.offsetWidth,c.H=o.h=c.paper.span.offsetHeight,c.X=o.x,c.Y=o.y+M(c.H/2);switch(o["text-anchor"]){case"start":c.node.style["v-text-align"]="left",c.bbx=M(c.W/2);break;case"end":c.node.style["v-text-align"]="right",c.bbx=-M(c.W/2);break;default:c.node.style["v-text-align"]="center"}}},ht=function(e,t){e.attrs=e.attrs||{};var n=e.attrs,r=e.node.getElementsByTagName("fill"),i="linear",s=".5 .5";e.attrs.gradient=t,t=(t+l)[F](at,function(e,t,n){return i="radial",t&&n&&(t=D(t),n=D(n),C(t-.5,2)+C(n-.5,2)>.25&&(n=b.sqrt(.25-C(t-.5,2))*((n>.5)*2-1)+.5),s=t+c+n),l}),t=t[h](/\s*\-\s*/);if(i=="linear"){var o=t.shift();o=-D(o);if(isNaN(o))return null}var u=Z(t);if(!u)return null;e=e.shape||e.node,r=r[0]||Ct("fill");if(u[m]){r.on=!0,r.method="none",r.type=i=="radial"?"gradientradial":"gradient",r.color=u[0].color,r.color2=u[u[m]-1].color;var a=[];for(var f=0,p=u[m];f<p;f++)u[f].offset&&a[k](u[f].offset+c+u[f].color);r.colors&&(r.colors.value=a[m]?a[v](","):"0% "+r.color),i=="radial"?(r.focus="100%",r.focussize=s,r.focusposition=s):r.angle=(270-o)%360}return 1},gt=function(e,t,n){var r=0,i=0,o=0,u=1;this[0]=e,this.id=s._oid++,this.node=e,e.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=t,this.paper=n,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null};gt[g].rotate=function(t,n,r){return this.removed?this:t==null?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][v](c):this._.rt.deg:(t=(t+l)[h](e),t[m]-1&&(n=D(t[1]),r=D(t[2])),t=D(t[0]),n!=null?this._.rt.deg=t:this._.rt.deg+=t,r==null&&(n=null),this._.rt.cx=n,this._.rt.cy=r,this.setBox(this.attrs,n,r),this.Group.style.rotation=this._.rt.deg,this)},gt[g].setBox=function(e,t,n){if(this.removed)return this;var r=this.Group.style,i=this.shape&&this.shape.style||this.node.style;e=e||{};for(var s in e)e[d](s)&&(this.attrs[s]=e[s]);t=t||this._.rt.cx,n=n||this._.rt.cy;var o=this.attrs,a,f,c,h;switch(this.type){case"circle":a=o.cx-o.r,f=o.cy-o.r,c=h=o.r*2;break;case"ellipse":a=o.cx-o.rx,f=o.cy-o.ry,c=o.rx*2,h=o.ry*2;break;case"rect":case"image":a=+o.x,f=+o.y,c=o.width||0,h=o.height||0;break;case"text":this.textpath.v=["m",M(o.x),", ",M(o.y-2),"l",M(o.x)+1,", ",M(o.y-2)][v](l),a=o.x-M(this.W/2),f=o.y-this.H/2,c=this.W,h=this.H;break;case"path":if(!this.attrs.path)a=0,f=0,c=this.paper.width,h=this.paper.height
;else{var p=z(this.attrs.path);a=p.x,f=p.y,c=p.width,h=p.height}break;default:a=0,f=0,c=this.paper.width,h=this.paper.height}t=t==null?a+c/2:t,n=n==null?f+h/2:n;var g=t-this.paper.width/2,y=n-this.paper.height/2;if(this.type=="path"||this.type=="text")r.left!=g+"px"&&(r.left=g+"px"),r.top!=y+"px"&&(r.top=y+"px"),this.X=this.type=="text"?a:-g,this.Y=this.type=="text"?f:-y,this.W=c,this.H=h,i.left!=-g+"px"&&(i.left=-g+"px"),i.top!=-y+"px"&&(i.top=-y+"px");else{r.left!=g+"px"&&(r.left=g+"px"),r.top!=y+"px"&&(r.top=y+"px"),this.X=a,this.Y=f,this.W=c,this.H=h,r.width!=this.paper.width+"px"&&(r.width=this.paper.width+"px"),r.height!=this.paper.height+"px"&&(r.height=this.paper.height+"px"),i.left!=a-g+"px"&&(i.left=a-g+"px"),i.top!=f-y+"px"&&(i.top=f-y+"px"),i.width!=c+"px"&&(i.width=c+"px"),i.height!=h+"px"&&(i.height=h+"px");var b=(+e.r||0)/E(c,h);if(this.type=="rect"&&this.arcsize.toFixed(4)!=b.toFixed(4)&&(b||this.arcsize)){var w=Ct("roundrect"),S={},s=0,x=this.events&&this.events[m];w.arcsize=b,w.raphael=this,this.Group[u](w),this.Group.removeChild(this.node),this[0]=this.node=w,this.arcsize=b;for(var s in o)S[s]=o[s];delete S.scale,this.attr(S);if(this.events)for(;s<x;s++)this.events[s].unbind=Lt(this.node,this.events[s].name,this.events[s].f,this)}}},gt[g].hide=function(){return!this.removed&&(this.Group.style.display="none"),this},gt[g].show=function(){return!this.removed&&(this.Group.style.display="block"),this},gt[g].getBBox=function(){return this.removed?this:this.type=="path"?z(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},gt[g].remove=function(){if(this.removed)return;nt(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)delete this[e];this.removed=!0},gt[g].attr=function(){if(this.removed)return this;if(arguments[m]==0){var e={};for(var t in this.attrs)this.attrs[d](t)&&(e[t]=this.attrs[t]);return this._.rt.deg&&(e.rotation=this.rotate()),(this._.sx!=1||this._.sy!=1)&&(e.scale=this.scale()),e.gradient&&e.fill=="none"&&(e.fill=e.gradient)&&delete e.gradient,e}if(arguments[m]==1&&s.is(arguments[0],"string"))return arguments[0]=="translation"?It.call(this):arguments[0]=="rotation"?this.rotate():arguments[0]=="scale"?this.scale():arguments[0]=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient?this.attrs.gradient:this.attrs[arguments[0]];if(this.attrs&&arguments[m]==1&&s.is(arguments[0],"array")){var n={};for(var t=0,r=arguments[0][m];t<r;t++)n[arguments[0][t]]=this.attrs[arguments[0][t]];return n}var i;return arguments[m]==2&&(i={},i[arguments[0]]=arguments[1]),arguments[m]==1&&s.is(arguments[0],"object")&&(i=arguments[0]),i&&(i.text&&this.type=="text"&&(this.node.string=i.text),dt(this,i),i.gradient&&({circle:1,ellipse:1}[d](this.type)||(i.gradient+l).charAt()!="r")&&ht(this,i.gradient),(this.type!="path"||this._.rt.deg)&&this.setBox(this.attrs)),this},gt[g].toFront=function(){return!this.removed&&this.Group.parentNode[u](this.Group),this.paper.top!=this&&rt(this,this.paper),this},gt[g].toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),it(this,this.paper)),this)},gt[g].insertAfter=function(e){return this.removed?this:(e.Group.nextSibling?e.Group.parentNode.insertBefore(this.Group,e.Group.nextSibling):e.Group.parentNode[u](this.Group),st(this,e,this.paper),this)},gt[g].insertBefore=function(e){return this.removed?this:(e.Group.parentNode.insertBefore(this.Group,e.Group),ot(this,e,this.paper),this)};var yt=function(e,t,n,r){var i=Ct("group"),s=Ct("oval"),o=s.style;i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=e.coordsize,i.coordorigin=e.coordorigin,i[u](s);var a=new gt(s,i,e);return a.type="circle",dt(a,{stroke:"#000",fill:"none"}),a.attrs.cx=t,a.attrs.cy=n,a.attrs.r=r,a.setBox({x:t-r,y:n-r,width:r*2,height:r*2}),e.canvas[u](i),a},bt=function(e,t,n,r,i,s){var o=Ct("group"),a=Ct("roundrect"),f=(+s||0)/E(r,i);o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",o.coordsize=e.coordsize,o.coordorigin=e.coordorigin,o[u](a),a.arcsize=f;var l=new gt(a,o,e);return l.type="rect",dt(l,{stroke:"#000"}),l.arcsize=f,l.setBox({x:t,y:n,width:r,height:i,r:s}),e.canvas[u](o),l},wt=function(e,t,n,r,i){var s=Ct("group"),o=Ct("oval"),a=o.style;s.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",s.coordsize=e.coordsize,s.coordorigin=e.coordorigin,s[u](o);var f=new gt(o,s,e);return f.type="ellipse",dt(f,{stroke:"#000"}),f.attrs.cx=t,f.attrs.cy=n,f.attrs.rx=r,f.attrs.ry=i,f.setBox({x:t-r,y:n-i,width:r*2,height:i*2}),e.canvas[u](s),f},Et=function(e,t,n,r,i,s){var o=Ct("group"),a=Ct("image"),f=a.style;o.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",o.coordsize=e.coordsize,o.coordorigin=e.coordorigin,a.src=t,o[u](a);var l=new gt(a,o,e);return l.type="image",l.attrs.src=t,l.attrs.x=n,l.attrs.y=r,l.attrs.w=i,l.attrs.h=s,l.setBox({x:n,y:r,width:i,height:s}),e.canvas[u](o),l},St=function(e,t,n,r){var i=Ct("group"),o=Ct("shape"),a=o.style,f=Ct("path"),c=f.style,h=Ct("textpath");i.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",i.coordsize=e.coordsize,i.coordorigin=e.coordorigin,f.v=s.format("m{0},{1}l{2},{1}",M(t),M(n),M(t)+1),f.textpathok=!0,a.width=e.width,a.height=e.height,h.string=r+l,h.on=!0,o[u](h),o[u](f),i[u](o);var p=new gt(h,i,e);return p.shape=o,p.textpath=f,p.type="text",p.attrs.text=r,p.attrs.x=t,p.attrs.y=n,p.attrs.w=1,p.attrs.h=1,dt(p,{font:B.font,stroke:"none",fill:"#000"}),p.setBox(),e.canvas[u](i),p},xt=function(e,t){var n=this.canvas.style;return e==+e&&(e+="px"),t==+t&&(t+="px"),n.width=e,n.height=t,n.clip="rect(0 "+e+" "+t+" 0)",this},Ct;n.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!n.namespaces.rvml&&n.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Ct=function(e){return n.createElement("<rvml:"+e+' class="rvml">')}}catch(kt){Ct=function(e){return n.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}var Tt=function(){var e=et[a](null,arguments),t=e.container,r=e.height,i,f=e.width,l=e.x,c=e.y;if(!t)throw new Error("VML container not found.");var h=new o,p=h.canvas=n.createElement("div"),d=p.style;return f=f||512,r=r||342,f==+f&&(f+="px"),r==+r&&(r+="px"),h.width=1e3,h.height=1e3,h.coordsize="1000 1000",h.coordorigin="0 0",h.span=n.createElement("span"),h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",p[u](h.span),d.cssText=s.format("width:{0};height:{1};position:absolute;clip:rect(0 {0} {1} 0);overflow:hidden",f,r),t==1?(n.body[u](p),d.left=l+"px",d.top=c+"px"):(t.style.width=f,t.style.height=r,t.firstChild?t.insertBefore(p,t.firstChild):t[u](p)),tt.call(h,h,s.fn),h};o[g].clear=function(){this.canvas.innerHTML=l,this.span=n.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[u](this.span),this.bottom=this.top=null},o[g].remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]=ut(e)}}/^Apple|^Google/.test(navigator.vendor)&&!(navigator.userAgent.indexOf("Version/4.0")+1)?o[g].safari=function(){var e=this.rect(-99,-99,this.width+99,this.height+99);setTimeout(function(){e.remove()})}:o[g].safari=function(){};var Lt=function(){if(n.addEventListener)return function(e,t,n,r){var i=function(e){return n.call(r,e)};return e.addEventListener(t,i,!1),function(){return e.removeEventListener(t,i,!1),!0}};if(n.attachEvent)return function(e,t,n,i){var s=function(e){return n.call(i,e||r.event)};e.attachEvent("on"+t,s);var o=function(){return e.detachEvent("on"+t,s),!0};return o}}();for(var At=p[m];At--;)(function(e){gt[g][e]=function(t){return s.is(t,"function")&&(this.events=this.events||[],this.events.push({name:e,f:t,unbind:Lt(this.shape||this.node,e,t,this)})),this},gt[g]["un"+e]=function(t){var n=this.events,r=n[m];while(r--)if(n[r].name==e&&n[r].f==t)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}})(p[At]);gt[g].hover=function(e,t){return this.mouseover(e).mouseout(t)},gt[g].unhover=function(e,t){return this.unmouseover(e).unmouseout(t)},o[g].circle=function(e,t,n){return yt(this,e||0,t||0,n||0)},o[g].rect=function(e,t,n,r,i){return bt(this,e||0,t||0,n||0,r||0,i||0)},o[g].ellipse=function(e,t,n,r){return wt(this,e||0,t||0,n||0,r||0)},o[g].path=function(e){return e&&!s.is(e,"string")&&!s.is(e[0],"array")&&(e+=l),ct(s.format[a](s,arguments),this)},o[g].image=function(e,t,n,r,i){return Et(this,e||"about:blank",t||0,n||0,r||0,i||0)},o[g].text=function(e,t,n){return St(this,e||0,t||0,n||l)},o[g].set=function(e){return arguments[m]>1&&(e=Array[g].splice.call(arguments,0,arguments[m])),new Rt(e)},o[g].setSize=xt,o[g].top=o[g].bottom=null,o[g].raphael=s,gt[g].scale=function(e,t,n,r){if(e==null&&t==null)return{x:this._.sx,y:this._.sy,toString:Ot};t=t||e,!+t&&(t=e);var i,s,o,u,a=this.attrs;if(e!=0){var h=this.getBBox(),p=h.x+h.width/2,d=h.y+h.height/2,g=e/this._.sx,y=t/this._.sy;n=+n||n==0?n:p,r=+r||r==0?r:d;var w=~~(e/b.abs(e)),S=~~(t/b.abs(t)),x=this.node.style,T=n+(p-n)*g,N=r+(d-r)*y;switch(this.type){case"rect":case"image":var C=a.width*w*g,k=a.height*S*y;this.attr({height:k,r:a.r*E(w*g,S*y),width:C,x:T-C/2,y:N-k/2});break;case"circle":case"ellipse":this.attr({rx:a.rx*w*g,ry:a.ry*S*y,r:a.r*E(w*g,S*y),cx:T,cy:N});break;case"path":var L=X(a.path),A=!0;for(var O=0,M=L[m];O<M;O++){var D=L[O],P,B=H.call(D[0]);if(B=="M"&&A)continue;A=!1;if(B=="A")D[L[O][m]-2]*=g,D[L[O][m]-1]*=y,D[1]*=w*g,D[2]*=S*y,D[5]=+(w+S?!!+D[5]:!+D[5]);else if(B=="H")for(P=1,jj=D[m];P<jj;P++)D[P]*=g;else if(B=="V")for(P=1,jj=D[m];P<jj;P++)D[P]*=y;else for(P=1,jj=D[m];P<jj;P++)D[P]*=P%2?g:y}var j=z(L),i=T-j.x-j.width/2,s=N-j.y-j.height/2;L[0][1]+=i,L[0][2]+=s,this.attr({path:L})}this.type in{text:1,image:1}&&(w!=1||S!=1)?this.transformations?(this.transformations[2]="scale("[f](w,",",S,")"),this.node[_]("transform",this.transformations[v](c)),i=w==-1?-a.x-(C||0):a.x,s=S==-1?-a.y-(k||0):a.y,this.attr({x:i,y:s}),a.fx=w-1,a.fy=S-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft.Matrix(M11="[f](w,", M12=0, M21=0, M22=",S,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),x.filter=(this.node.filterMatrix||l)+(this.node.filterOpacity||l)):this.transformations?(this.transformations[2]=l,this.node[_]("transform",this.transformations[v](c)),a.fx=0,a.fy=0):(this.node.filterMatrix=l,x.filter=(this.node.filterMatrix||l)+(this.node.filterOpacity||l)),a.scale=[e,t,n,r][v](c),this._.sx=e,this._.sy=t}return this},gt[g].clone=function(){var e=this.attr();return delete e.scale,delete e.translation,this.paper[this.type]().attr(e)};var Mt=function(e,t){return function(n,r,i){n=Y(n);var o,u,a,f,l="",c={},h,p=0;for(var d=0,m=n.length;d<m;d++){a=n[d];if(a[0]=="M")o=+a[1],u=+a[2];else{f=_t(o,u,a[1],a[2],a[3],a[4],a[5],a[6]);if(p+f>r){if(t&&!c.start){h=s.findDotsAtSegment(o,u,a[1],a[2],a[3],a[4],a[5],a[6],(r-p)/f),l+=["C",h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y];if(i)return l;c.start=l,l=["M",h.x,h.y+"C",h.n.x,h.n.y,h.end.x,h.end.y,a[5],a[6]][v](),p+=f,o=+a[5],u=+a[6];continue}if(!e&&!t)return h=s.findDotsAtSegment(o,u,a[1],a[2],a[3],a[4],a[5],a[6],(r-p)/f),{x:h.x,y:h.y,alpha:h.alpha}}p+=f,o=+a[5],u=+a[6]}l+=a}return c.end=l,h=e?p:t?c:s.findDotsAtSegment(o,u,a[1],a[2],a[3],a[4],a[5],a[6],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},_t=U(function(e,t,n,r,i,s,o,u){var a={x:0,y:0},f=0;for(var l=0;l<1.01;l+=.01){var c=Q(e,t,n,r,i,s,o,u,l);l&&(f+=b.sqrt(C(a.x-c.x,2)+C(a.y-c.y,2))),a=c}return f}),Dt=Mt(1),Pt=Mt(),Ht=Mt(0,1);gt[g].getTotalLength=function(){if(this.type!="path")return;return Dt(this.attrs.path)},gt[g].getPointAtLength=function(e){if(this.type!="path")return;return Pt(this.attrs.path,e)},gt[g].getSubpath=function(e,t){if(this.type!="path")return;if(b.abs(this.getTotalLength()-t)<1e-6)return Ht(this.attrs.path,e).end;var n=Ht(this.attrs.path,t,1);return e?Ht(n,e).end:n},s.easing_formulas={linear:function(e){return e},"<":function(e){return C(e,3)},">":function(e){return C(e-1,3)+1},"<>":function(e){return e*=2,e<1?C(e,3)/2:(e-=2,(C(e,3)+2)/2)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){e-=1;var t=1.70158;return e*e*((t+1)*e+t)+1},elastic:function(e){if(e==0||e==1)return e;var t=.3,n=t/4;return C(2,-10*e)*b.sin((e-n)*2*b.PI/t)+1},bounce:function(e){var t=7.5625,n=2.75,r;return e<1/n?r=t*e*e:e<2/n?(e-=1.5/n,r=t*e*e+.75):e<2.5/n?(e-=2.25/n,r=t*e*e+.9375):(e-=2.625/n,r=t*e*e+.984375),r}};var Bt={length:0},jt=function(){var e=+(new Date);for(var t in Bt)if(t!="length"&&Bt[d](t)){var n=Bt[t];if(n.stop){delete Bt[t],Bt[m]--;continue}var r=e-n.start,i=n.ms,o=n.easing,u=n.from,a=n.diff,f=n.to,h=n.t,p=n.prev||0,g=n.el,y=n.callback,b={},w;if(r<i){var E=s.easing_formulas[o]?s.easing_formulas[o](r/i):r/i;for(var S in u)if(u[d](S)){switch(j[S]){case"along":w=E*i*a[S],f.back&&(w=f.len-w);var x=Pt(f[S],w);g.translate(a.sx-a.x||0,a.sy-a.y||0),a.x=x.x,a.y=x.y,g.translate(x.x-a.sx,x.y-a.sy),f.rot&&g.rotate(a.r+x.alpha,x.x,x.y);break;case"number":w=+u[S]+E*i*a[S];break;case"colour":w="rgb("+[Ft(M(u[S].r+E*i*a[S].r)),Ft(M(u[S].g+E*i*a[S].g)),Ft(M(u[S].b+E*i*a[S].b))][v](",")+")";break;case"path":w=[];for(var T=0,N=u[S][m];T<N;T++){w[T]=[u[S][T][0]];for(var C=1,k=u[S][T][m];C<k;C++)w[T][C]=+u[S][T][C]+E*i*a[S][T][C];w[T]=w[T][v](c)}w=w[v](c);break;case"csv":switch(S){case"translation":var L=a[S][0]*(r-p),A=a[S][1]*(r-p);h.x+=L,h.y+=A,w=L+c+A;break;case"rotation":w=+u[S][0]+E*i*a[S][0],u[S][1]&&(w+=","+u[S][1]+","+u[S][2]);break;case"scale":w=[+u[S][0]+E*i*a[S][0],+u[S][1]+E*i*a[S][1],2 in f[S]?f[S][2]:l,3 in f[S]?f[S][3]:l][v](c);break;case"clip-rect":w=[];var T=4;while(T--)w[T]=+u[S][T]+E*i*a[S][T]}}b[S]=w}g.attr(b),g._run&&g._run.call(g)}else{if(f.along){var x=Pt(f.along,f.len*!f.back);g.translate(a.sx-(a.x||0)+x.x-a.sx,a.sy-(a.y||0)+x.y-a.sy),f.rot&&g.rotate(a.r+x.alpha,x.x,x.y)}(h.x||h.y)&&g.translate(-h.x,-h.y),f.scale&&(f.scale=f.scale+l),g.attr(f),delete Bt[t],Bt[m]--,g.in_animation=null,s.is(y,"function")&&y.call(g)}n.prev=r}s.svg&&g&&g.paper.safari(),Bt[m]&&setTimeout(jt)},Ft=function(e){return e>255?255:e<0?0:e},It=function(e,t){if(e==null)return{x:this._.tx,y:this._.ty,toString:Ot};this._.tx+=+e,this._.ty+=+t;switch(this.type){case"circle":case"ellipse":this.attr({cx:+e+this.attrs.cx,cy:+t+this.attrs.cy});break;case"rect":case"image":case"text":this.attr({x:+e+this.attrs.x,y:+t+this.attrs.y});break;case"path":var n=X(this.attrs.path);n[0][1]+=+e,n[0][2]+=+t,this.attr({path:n})}return this};gt[g].animateWith=function(e,t,n,r,i){return Bt[e.id]&&(t.start=Bt[e.id].start),this.animate(t,n,r,i)},gt[g].animateAlong=qt(),gt[g].animateAlongBack=qt(1),gt[g].onAnimation=function(e){return this._run=e||0,this},gt[g].animate=function(t,n,r,i){if(s.is(r,"function")||!r)i=r||null;var o={},u={},a={};for(var f in t)if(t[d](f)&&j[d](f)){o[f]=this.attr(f),o[f]==null&&(o[f]=B[f]),u[f]=t[f];switch(j[f]){case"along":var c=Dt(t[f]),p=Pt(t[f],c*!!t.back),v=this.getBBox();a[f]=c/n,a.tx=v.x,a.ty=v.y,a.sx=p.x,a.sy=p.y,u.rot=t.rot,u.back=t.back,u.len=c,t.rot&&(a.r=D(this.rotate())||0);break;case"number":a[f]=(u[f]-o[f])/n;break;case"colour":o[f]=s.getRGB(o[f]);var g=s.getRGB(u[f]);a[f]={r:(g.r-o[f].r)/n,g:(g.g-o[f].g)/n,b:(g.b-o[f].b)/n};break;case"path":var y=Y(o[f],u[f]);o[f]=y[0];var b=y[1];a[f]=[];for(var w=0,E=o[f][m];w<E;w++){a[f][w]=[0];for(var S=1,x=o[f][w][m];S<x;S++)a[f][w][S]=(b[w][S]-o[f][w][S])/n}break;case"csv":var T=(t[f]+l)[h](e),N=(o[f]+l)[h](e);switch(f){case"translation":o[f]=[0,0],a[f]=[T[0]/n,T[1]/n];break;case"rotation":o[f]=N[1]==T[1]&&N[2]==T[2]?N:[0,T[1],T[2]],a[f]=[(T[0]-o[f][0])/n,0,0];break;case"scale":t[f]=T,o[f]=(o[f]+l)[h](e),a[f]=[(T[0]-o[f][0])/n,(T[1]-o[f][1])/n,0,0];break;case"clip-rect":o[f]=(o[f]+l)[h](e),a[f]=[];var w=4;while(w--)a[f][w]=(T[w]-o[f][w])/n}u[f]=T}}return this.stop(),this.in_animation=1,Bt[this.id]={start:t.start||+(new Date),ms:n,easing:r,from:o,diff:a,to:u,el:this,callback:i,t:{x:0,y:0}},++Bt[m]==1&&jt(),this},gt[g].stop=function(){return Bt[this.id]&&Bt[m]--,delete Bt[this.id],this},gt[g].translate=function(e,t){return this.attr({translation:e+" "+t})},gt[g][x]=function(){return"Raphaël’s object"},s.ae=Bt;var Rt=function(e){this.items=[],this[m]=0;if(e)for(var t=0,n=e[m];t<n;t++)e[t]&&(e[t].constructor==gt||e[t].constructor==Rt)&&(this[this.items[m]]=this.items[this.items[m]]=e[t],this[m]++)};Rt[g][k]=function(){var e,t;for(var n=0,r=arguments[m];n<r;n++)e=arguments[n],e&&(e.constructor==gt||e.constructor==Rt)&&(t=this.items[m],this[t]=this.items[t]=e,this[m]++);return this},Rt[g].pop=function(){return delete this[this[m]--],this.items.pop()};for(var Ut in gt[g])gt[g][d](Ut)&&(Rt[g][Ut]=function(e){return function(){for(var t=0,n=this.items[m];t<n;t++)this.items[t][e][a](this.items[t],arguments);return this}}(Ut));return Rt[g].attr=function(e,t){if(e&&s.is(e,"array")&&s.is(e[0],"object"))for(var n=0,r=e[m];n<r;n++)this.items[n].attr(e[n]);else for(var i=0,o=this.items[m];i<o;i++)this.items[i].attr[a](this.items[i],arguments);return this},Rt[g].animate=function(e,t,n,r){(s.is(n,"function")||!n)&&(r=n||null);var i=this.items[m],o=i,u=this,a;r&&(a=function(){!--i&&r.call(u)}),this.items[--o].animate(e,t,n||a,a);while(o--)this.items[o].animateWith(this.items[i-1],e,t,n||a,a);return this},Rt[g].insertAfter=function(e){var t=this.items[m];while(t--)this.items[t].insertAfter(e);return this},Rt[g].getBBox=function(){var e=[],t=[],n=[],r=[];for(var i=this.items[m];i--;){var s=this.items[i].getBBox();e[k](s.x),t[k](s.y),n[k](s.x+s.width),r[k](s.y+s.height)}return e=E[a](0,e),t=E[a](0,t),{x:e,y:t,width:w[a](0,n)-e,height:w[a](0,r)-t}},s.registerFont=function(e){if(!e.face)return e;this.fonts=this.fonts||{};var t={w:e.w,face:{},glyphs:{}},n=e.face["font-family"];for(var r in e.face)e.face[d](r)&&(t.face[r]=e.face[r]);this.fonts[n]?this.fonts[n][k](t):this.fonts[n]=[t];if(!e.svg){t.face["units-per-em"]=P(e.face["units-per-em"],10);for(var i in e.glyphs)if(e.glyphs[d](i)){var s=e.glyphs[i];t.glyphs[i]={w:s.w,k:{},d:s.d&&"M"+s.d[F](/[mlcxtrv]/g,function(e){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[e]||"M"})+"z"};if(s.k)for(var o in s.k)s[d](o)&&(t.glyphs[i].k[o]=s.k[o])}}return e},o[g].getFont=function(e,t,n,r){r=r||"normal",n=n||"normal",t=+t||{normal:400,bold:700,lighter:300,bolder:800}[t]||400;var i=s.fonts[e];if(!i){var o=new RegExp("(^|\\s)"+e[F](/[^\w\d\s+!~.:_-]/g,l)+"(\\s|$)","i");for(var u in s.fonts)if(s.fonts[d](u)&&o.test(u)){i=s.fonts[u];break}}var a;if(i)for(var f=0,c=i[m];f<c;f++){a=i[f];if(a.face["font-weight"]==t&&(a.face["font-style"]==n||!a.face["font-style"])&&a.face["font-stretch"]==r)break}return a},o[g].print=function(t,n,r,i,o,u){u=u||"middle";var a=this.set(),f=(r+l)[h](l),c=0,p=l,d;s.is(i,"string")&&(i=this.getFont(i));if(i){d=(o||16)/i.face["units-per-em"];var v=i.face.bbox.split(e),g=+v[0],y=+v[1]+(u=="baseline"?v[3]-v[1]+ +i.face.descent:(v[3]-v[1])/2);for(var b=0,w=f[m];b<w;b++){var E=b&&i.glyphs[f[b-1]]||{},S=i.glyphs[f[b]];c+=b?(E.w||i.w)+(E.k&&E.k[f[b]]||0):0,S&&S.d&&a[k](this.path(S.d).attr({fill:"#000",stroke:"none",translation:[c,0]}))}a.scale(d,d,g,y).translate(t-g,n-y)}return a},s.format=function(e){var t=s.is(arguments[1],"array")?[0][f](arguments[1]):arguments,n=/\{(\d+)\}/g;return e&&s.is(e,"string")&&t[m]-1&&(e=e[F](n,function(e,n){return t[++n]==null?l:t[n]})),e||l},s.ninja=function(){var e=Raphael;return i.was?Raphael=i.is:delete Raphael,e},s.el=gt[g],s}(),function(e){"use strict";function n(e){console.log&&console.log(e)}var t=function(){this.nodes=[],this.nodelist=[],this.edges=[],this.snapshots=[]};t.prototype={addNode:function(e,n){return this.nodes[e]===undefined&&(this.nodes[e]=new t.Node(e,n||{id:e}),this.nodelist.push(this.nodes[e])),this.nodes[e]},addEdge:function(e,t,n){var r=this.addNode(e),i=this.addNode(t),s={source:r,target:i,style:n,weight:n&&n.weight||1};r.edges.push(s),this.edges.push(s);if(!n||!n.directed){var o={source:i,target:r,style:n,weight:n&&n.weight||1,backedge:s};this.edges.push(o),i.edges.push(o)}},snapShot:function(e,n){var r=new t;jQuery.extend(!0,r.nodes,this.nodes),jQuery.extend(!0,r.nodelist,this.nodelist),jQuery.extend(!0,r.edges,this.edges),r.snapShot=null,this.snapshots.push({comment:e,graph:r})}},t.Node=function(e,t){return t.id=e,t.edges=[],t},t.Node.prototype={},t.Renderer={},t.Renderer.Raphael=function(e,t,n,r,i){this.width=n||400,this.height=r||400;var s=this;this.r=Raphael(e,this.width,this.height),this.radius=i&&i.noderadius?i.noderadius:40,this.graph=t,this.mouse_in=!1,this.graph.render||(this.graph.render=function(){return}),this.isDrag=!1,this.dragger=function(e){this.dx=e.clientX,this.dy=e.clientY,s.isDrag=this,this.set&&this.set.animate({"fill-opacity":.1},200)&&this.set.toFront(),e.preventDefault&&e.preventDefault()},document.onmousemove=function(e){e=e||window.event;if(s.isDrag){var t=s.isDrag.set.getBBox(),n=e.clientX-s.isDrag.dx+(t.x+t.width/2),r=e.clientY-s.isDrag.dy+(t.y+t.height/2),i=e.clientX-(n<20?n-20:n>s.width-20?n-s.width+20:0),o=e.clientY-(r<20?r-20:r>s.height-20?r-s.height+20:0);s.isDrag.set.translate(i-s.isDrag.dx,o-s.isDrag.dy);for(var u in s.graph.edges)s.graph.edges[u].connection&&s.graph.edges[u].connection.draw();s.isDrag.dx=i,s.isDrag.dy=o}},document.onmouseup=function(){s.isDrag&&s.isDrag.set.animate({"fill-opacity":.6},500),s.isDrag=!1}},t.Renderer.Raphael.prototype={translate:function(e){return[Math.round((e[0]-this.graph.layoutMinX)*this.factorX+this.radius),Math.round((e[1]-this.graph.layoutMinY)*this.factorY+this.radius)]},rotate:function(e,t,n){var r=t*Math.cos(n),i=t*Math.sin(n);return[e[0]+r,e[1]+i]},draw:function(){this.factorX=(this.width-10*this.radius)/(this.graph.layoutMaxX-this.graph.layoutMinX),this.factorY=(this.height-15*this.radius)/(this.graph.layoutMaxY-this.graph.layoutMinY);for(e in this.graph.nodes)this.drawNode(this.graph.nodes[e]);for(var e=0;e<this.graph.edges.length;e++)this.drawEdge(this.graph.edges[e])},drawNode:function(e){var t=this.translate([e.layoutPosX,e.layoutPosY]);e.point=t;if(e.shape){var n=e.shape.getBBox(),r=[n.x+Math.round(n.width/2),n.y+Math.round(n.height/2)];e.shape.translate(t[0]-r[0],t[1]-r[1]),this.r.safari();return}var i;if(e.render)i=e.render(this.r,e);else if(!e.shape){var s=Raphael.getColor();i=this.r.set().push(this.r.ellipse(t[0],t[1],30,20).attr({fill:s,stroke:s,"stroke-width":2})).push(this.r.text(t[0],t[1]+30,e.label||e.id))}i.attr({"fill-opacity":.6}),i.items.forEach(function(e){e.set=i,e.node.style.cursor="pointer"}),i.mousedown(this.dragger),e.shape=i},drawEdge:function(e){if(e.backedge)return;e.connection&&e.connection.draw(),e.connection||(e.style&&e.style.callback&&e.style.callback(e),e.connection=this.r.connection(e.source.shape,e.target.shape,e.style))}},t.Layout={},t.Layout.Spring=function(e){this.graph=e,this.iterations=500,this.maxRepulsiveForceDistance=6,this.k=2,this.c=.01,this.maxVertexMovement=.5},t.Layout.Spring.prototype={layout:function(){this.layoutPrepare();for(var e=0;e<this.iterations;e++)this.layoutIteration();this.layoutCalcBounds()},layoutPrepare:function(){for(var e in this.graph.nodes){var t=this.graph.nodes[e];t.layoutPosX=0,t.layoutPosY=0,t.layoutForceX=0,t.layoutForceY=0}},layoutCalcBounds:function(){var e=Infinity,t=-Infinity,n=Infinity,r=-Infinity;for(var i in this.graph.nodes){var s=this.graph.nodes[i].layoutPosX,o=this.graph.nodes[i].layoutPosY;s>t&&(t=s),s<e&&(e=s),o>r&&(r=o),o<n&&(n=o)}this.graph.layoutMinX=e,this.graph.layoutMaxX=t,this.graph.layoutMinY=n,this.graph.layoutMaxY=r},layoutIteration:function(){for(var e=0;e<this.graph.nodelist.length;e++){var t=this.graph.nodelist[e];for(var n=e+1;n<this.graph.nodelist.length;n++){var r=this.graph.nodelist[n];this.layoutRepulsive(t,r)}}for(var e=0;e<this.graph.edges.length;e++){var i=this.graph.edges[e];this.layoutAttractive(i)}for(var e in this.graph.nodes){var s=this.graph.nodes[e],o=this.c*s.layoutForceX,u=this.c*s.layoutForceY,a=this.maxVertexMovement;o>a&&(o=a),o<-a&&(o=-a),u>a&&(u=a),u<-a&&(u=-a),s.layoutPosX+=o,s.layoutPosY+=u,s.layoutForceX=0,s.layoutForceY=0}},layoutRepulsive:function(e,t){var n=t.layoutPosX-e.layoutPosX,r=t.layoutPosY-e.layoutPosY,i=n*n+r*r;if(i<.01){n=.1*Math.random()+.1,r=.1*Math.random()+.1;var i=n*n+r*r}var s=Math.sqrt(i);if(s<this.maxRepulsiveForceDistance){var o=this.k*this.k/s;t.layoutForceX+=o*n/s,t.layoutForceY+=o*r/s,e.layoutForceX-=o*n/s,e.layoutForceY-=o*r/s}},layoutAttractive:function(e){var t=e.source,n=e.target,r=n.layoutPosX-t.layoutPosX,i=n.layoutPosY-t.layoutPosY,s=r*r+i*i;if(s<.01){r=.1*Math.random()+.1,i=.1*Math.random()+.1;var s=r*r+i*i}var o=Math.sqrt(s);o>this.maxRepulsiveForceDistance&&(o=this.maxRepulsiveForceDistance,s=o*o);var u=(s-this.k*this.k)/this.k;e.attraction===undefined&&(e.attraction=1),u*=Math.log(e.attraction)*.5+1,n.layoutForceX-=u*r/o,n.layoutForceY-=u*i/o,t.layoutForceX+=u*r/o,t.layoutForceY+=u*i/o}},Raphael.el.tooltip=function(e){return this.tp=e,this.tp.o={x:0,y:0},this.tp.hide(),this.hover(function(e){this.mousemove(function(e){this.tp.translate(e.clientX-this.tp.o.x,e.clientY-this.tp.o.y),this.tp.o={x:e.clientX,y:e.clientY}}),this.tp.show().toFront()},function(e){this.tp.hide(),this.unmousemove()}),this},Raphael.fn.connection=function(e,t,n){var r=this,i={draw:function(){var s=e.getBBox(),o=t.getBBox(),u=0,a=0,f=[{x:s.x+s.width/2,y:s.y-u},{x:s.x+s.width/2,y:s.y+s.height+u},{x:s.x-u,y:s.y+s.height/2},{x:s.x+s.width+u,y:s.y+s.height/2},{x:o.x+o.width/2,y:o.y-a},{x:o.x+o.width/2,y:o.y+o.height+a},{x:o.x-a,y:o.y+o.height/2},{x:o.x+o.width+a,y:o.y+o.height/2}],l={},c=[];for(var h=0;h<4;h++)for(var p=4;p<8;p++){var d=Math.abs(f[h].x-f[p].x),v=Math.abs(f[h].y-f[p].y);if(h===p-4||(h!==3&&p!==6||f[h].x<f[p].x)&&(h!==2&&p!==7||f[h].x>f[p].x)&&(h!==0&&p!==5||f[h].y>f[p].y)&&(h!==1&&p!==4||f[h].y<f[p].y))c.push(d+v),l[c[c.length-1].toFixed(3)]=[h,p]}var m=c.length===0?[0,4]:l[Math.min.apply(Math,c).toFixed(3)],g=f[m[0]].x,y=f[m[0]].y,b=f[m[1]].x,w=f[m[1]].y,d=Math.max(Math.abs(g-b)/2,10),v=Math.max(Math.abs(y-w)/2,10),E=[g,g,g-d,g+d][m[0]].toFixed(3),S=[y-v,y+v,y,y][m[0]].toFixed(3),x=[0,0,0,0,b,b,b-d,b+d][m[1]].toFixed(3),T=[0,0,0,0,y+v,y-v,w,w][m[1]].toFixed(3),N=["M",g.toFixed(3),y.toFixed(3),"C",E,S,x,T,b.toFixed(3),w.toFixed(3)].join(",");if(n&&n.directed){var C=Math.sqrt((w-T)*(w-T)+(b-x)*(b-x)),k=function(e,t){return-e*(t||5)/C},L=[{x:(k(b-x)+k(w-T)+b).toFixed(3),y:(k(w-T)+k(b-x)+w).toFixed(3)},{x:(k(b-x)-k(w-T)+b).toFixed(3),y:(k(w-T)-k(b-x)+w).toFixed(3)}];N=N+",M"+L[0].x+","+L[0].y+",L"+b+","+w+",L"+L[1].x+","+L[1].y}i.fg&&i.fg.attr({path:N})||(i.fg=r.path(N).attr({stroke:n&&n.stroke||"#000",fill:"none"}).toBack()),i.bg&&i.bg.attr({path:N})||n&&n.fill&&(i.bg=n.fill.split&&r.path(N).attr({stroke:n.fill,fill:"none","stroke-width":n.width||3}).toBack()),n&&n.label&&(i.label&&i.label.attr({x:(g+b)/2,y:(y+w)/2})||(i.label=r.text((g+b)/2,(y+w)/2,n.label).attr({fill:"#000","font-size":n.fontsize||"12px"})))}};return i.draw(),i},e.Dracula={},e.Dracula.Graph=t}(window);